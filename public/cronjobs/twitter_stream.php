<?php
/**
 * Created by IntelliJ IDEA.
 * User: solomontsao
 * Date: 7/21/17
 * Time: 1:52 AM
 */
$twitterdata_encode = '{"created_at":"Mon Jul 24 06:06:43 +0000 2017","id":889366213779836928,"id_str":"889366213779836928","text":"RT @DIORSBITCH: Kenzo Fashion Show FW08 https:\/\/t.co\/zW3fAbuFFm","source":"\u003ca href=\"http:\/\/twitter.com\/download\/iphone\" rel=\"nofollow\"\u003eTwitter for iPhone\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":742807326151692288,"id_str":"742807326151692288","name":"o-eazy\u2728","screen_name":"apparentlyojoma","location":"Berkeley","url":null,"description":"lord willin\'\ud83c\udf0a\ud83d\udda4\ud83c\uddf3\ud83c\uddec","protected":false,"verified":false,"followers_count":179,"friends_count":138,"listed_count":0,"favourites_count":13335,"statuses_count":5483,"created_at":"Tue Jun 14 19:54:02 +0000 2016","utc_offset":-25200,"time_zone":"Pacific Time (US & Canada)","geo_enabled":false,"lang":"en","contributors_enabled":false,"is_translator":false,"profile_background_color":"000000","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"F6CED8","profile_sidebar_border_color":"000000","profile_sidebar_fill_color":"000000","profile_text_color":"000000","profile_use_background_image":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/883565608834539520\/T2-wmhWA_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/883565608834539520\/T2-wmhWA_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/742807326151692288\/1496288501","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Sat Jul 22 10:34:21 +0000 2017","id":888708788051726336,"id_str":"888708788051726336","text":"Kenzo Fashion Show FW08 https:\/\/t.co\/zW3fAbuFFm","display_text_range":[0,23],"source":"\u003ca href=\"http:\/\/twitter.com\/download\/iphone\" rel=\"nofollow\"\u003eTwitter for iPhone\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":1855893493,"id_str":"1855893493","name":"Valentino","screen_name":"DIORSBITCH","location":"London, England","url":null,"description":"World Class.","protected":false,"verified":false,"followers_count":14813,"friends_count":5723,"listed_count":95,"favourites_count":9148,"statuses_count":14688,"created_at":"Thu Sep 12 00:52:12 +0000 2013","utc_offset":3600,"time_zone":"London","geo_enabled":true,"lang":"en","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"1DA1F2","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/765244846420426753\/y9L-R-HK_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/765244846420426753\/y9L-R-HK_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/1855893493\/1451950675","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":9082,"favorite_count":21219,"entities":{"hashtags":[],"urls":[],"user_mentions":[],"symbols":[],"media":[{"id":888708762634260480,"id_str":"888708762634260480","indices":[24,47],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":888708762634260480,"id_str":"888708762634260480","indices":[24,47],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}}},{"id":888708762692976640,"id_str":"888708762692976640","indices":[24,47],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6T0XgAAmdmm.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6T0XgAAmdmm.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}}},{"id":888708762692988929,"id_str":"888708762692988929","indices":[24,47],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6T0XsAEYSRA.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6T0XsAEYSRA.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}}},{"id":888708762713944064,"id_str":"888708762713944064","indices":[24,47],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6T5XcAAfhTx.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6T5XcAAfhTx.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":454,"resize":"fit"},"large":{"w":736,"h":491,"resize":"fit"},"medium":{"w":736,"h":491,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"en"},"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"urls":[],"user_mentions":[{"screen_name":"DIORSBITCH","name":"Valentino","id":1855893493,"id_str":"1855893493","indices":[3,14]}],"symbols":[],"media":[{"id":888708762634260480,"id_str":"888708762634260480","indices":[40,63],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}},"source_status_id":888708788051726336,"source_status_id_str":"888708788051726336","source_user_id":1855893493,"source_user_id_str":"1855893493"}]},"extended_entities":{"media":[{"id":888708762634260480,"id_str":"888708762634260480","indices":[40,63],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6TmXkAAnMky.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}},"source_status_id":888708788051726336,"source_status_id_str":"888708788051726336","source_user_id":1855893493,"source_user_id_str":"1855893493"},{"id":888708762692976640,"id_str":"888708762692976640","indices":[40,63],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6T0XgAAmdmm.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6T0XgAAmdmm.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}},"source_status_id":888708788051726336,"source_status_id_str":"888708788051726336","source_user_id":1855893493,"source_user_id_str":"1855893493"},{"id":888708762692988929,"id_str":"888708762692988929","indices":[40,63],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6T0XsAEYSRA.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6T0XsAEYSRA.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":459,"resize":"fit"},"medium":{"w":736,"h":497,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":736,"h":497,"resize":"fit"}},"source_status_id":888708788051726336,"source_status_id_str":"888708788051726336","source_user_id":1855893493,"source_user_id_str":"1855893493"},{"id":888708762713944064,"id_str":"888708762713944064","indices":[40,63],"media_url":"http:\/\/pbs.twimg.com\/media\/DFVT6T5XcAAfhTx.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/DFVT6T5XcAAfhTx.jpg","url":"https:\/\/t.co\/zW3fAbuFFm","display_url":"pic.twitter.com\/zW3fAbuFFm","expanded_url":"https:\/\/twitter.com\/DIORSBITCH\/status\/888708788051726336\/photo\/1","type":"photo","sizes":{"small":{"w":680,"h":454,"resize":"fit"},"large":{"w":736,"h":491,"resize":"fit"},"medium":{"w":736,"h":491,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}},"source_status_id":888708788051726336,"source_status_id_str":"888708788051726336","source_user_id":1855893493,"source_user_id_str":"1855893493"}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"en","timestamp_ms":"1500876403647"}';
$twitterdata = json_decode($twitterdata_encode);
echo '<pre>';
print_r($twitterdata);
echo '</pre>';
echo $twitterdata->user->description;

exit;
require_once('../../lib/Phirehose.php');
require_once('../../lib/OauthPhirehose.php');
/**
 * Example of using Phirehose to display a live filtered stream using track words
 */
class FilterTrackConsumer extends OauthPhirehose
{
    /**
     * Enqueue each status
     *
     * @param string $status
     */
    public function enqueueStatus($status)
    {
        /*
         * In this simple example, we will just display to STDOUT rather than enqueue.
         * NOTE: You should NOT be processing tweets at this point in a real application, instead they should be being
         *       enqueued and processed asyncronously from the collection process.
         */
        $data = json_decode($status, true);
        if (is_array($data) && isset($data['user']['screen_name'])) {
          //  print $data['user']['screen_name'] . ': ' . urldecode($data['text']) . "<br/>";
           //print_r($data,true);
             $file = fopen("/home/fashiontrendguru/public_html/www/application/public/cronjobs/data/twitter-".time().".txt","w");
              fwrite($file,$data->user->description);
              fclose($file);


        }

    }
}
// The OAuth credentials you received when registering your app at Twitter
define("TWITTER_CONSUMER_KEY", "ae2Ycg2PXsUh3B0JPYKgMHM4Q");
define("TWITTER_CONSUMER_SECRET", "McsOabbaWftomTFudCepfMad7PDTdOPnP71MBUcRPXQTc3m9eS");
// The OAuth data for the twitter account
define("OAUTH_TOKEN", "884120165675388928-GZu7NL6rskMiwpRamcK21M2DsLhoaw7");
define("OAUTH_SECRET", "lDPS77yapcLLg4InRMPp3qY6qPCOFiFYQVm4OMKrvXQji");
// Start streaming
$sc = new FilterTrackConsumer(OAUTH_TOKEN, OAUTH_SECRET, Phirehose::METHOD_FILTER);
$sc->setTrack(array('fashion', 'bags', 'totes', 'handbag','shoes','nike','Nike','Women\'s Shoes',
    'watches','clothes','women\'s handbags'));
$sc->consume();
